#
# Race Capture App
#
# Copyright (C) 2014-2016 Autosport Labs
#
# This file is part of the Race Capture App
#
# This is free software: you can redistribute it and/or modify it
# under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This software is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
#
# See the GNU General Public License for more details. You should
# have received a copy of the GNU General Public License along with
# this code. If not, see <http://www.gnu.org/licenses/>.

#:kivy 1.9.1
#:import ColorScheme autosportlabs.racecapture.theme.color.ColorScheme

<OBD2Channel>:
    spacing: dp(10)
    size_hint_y: None
    height: dp(30)
    orientation: 'horizontal'
    ChannelNameSelectorView:
    	size_hint_x: 0.5
    	id: chan_id
    SampleRateSpinner:
    	size_hint_x: 0.4
    	id: sr
    IconButton:
    	size_hint_x: 0.1
    	text: '\357\200\224'
    	on_release: root.on_delete()

<OBD2ChannelsView>:
    spacing: dp(20)
    orientation: 'vertical'
	SettingsView:
		id: obd2enable
		label_text: 'OBDII channels'
		help_text: 'Specify one or more OBDII Channels to enable'
		size_hint_y: 0.20
	BoxLayout:
        size_hint_y: 0.70
		#spacing: dp(5)
		orientation: 'vertical'		
	    HSeparator:
	        text: 'OBDII Channels'
		BoxLayout:
			orientation: 'horizontal'
			size_hint_y: 0.15
			spacing: dp(5)
	        HSeparatorMinor:
	            text: 'Channel'
	        	size_hint_x: 0.3            
	        HSeparatorMinor:
	            text: 'Logging Rate'
	        	size_hint_x: 0.3
        AnchorLayout:	        	
        	AnchorLayout:
        	    ScrollContainer:
                    canvas.before:
                        Color:
                            rgba: 0.05, 0.05, 0.05, 1
                        Rectangle:
                            pos: self.pos
                            size: self.size        	    
        	        id: scrlobd2
        	        size_hint_y: 0.95
        	        do_scroll_x:False
        	        do_scroll_y:True
        	        GridLayout:
        	            id: obd2grid
        	            padding: [dp(20), dp(20)]
        	            spacing: [dp(10), dp(10)]
        	            size_hint_y: None
        	            height: max(self.minimum_height, scrlobd2.height)
        	            cols: 1
            AnchorLayout:
                anchor_y: 'bottom'
                IconButton:
                    size_hint: (None, None)
                    height: root.height * .12
                    text: u'\uf055'
                    color: ColorScheme.get_accent()
                    on_release: root.on_add_obd2_channel()
                    disabled: True
                    id: addpid
    	    	
        		
            
